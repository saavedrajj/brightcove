<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<style>
	#playerWrapper {
		position: relative;
		width: 340px;
		background-color: #f5f5f5;
		border: 1px solid black;
		margin-bottom: 1em;
		padding: 1em 1em 1em 1em;
		transition-property: all;
		transition-duration: 100ms;
		transition-timing-function: ease-in-out;
	}
	p {
		width: 60%;
	}
</style>
</head>
<body>
	
	<h1>Brightcove Player: Float and Park Sample</h1>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	<!-- This next div is the essential part of the HTML -->
	<div id="playerWrapper">
		<iframe src="//players.brightcove.net/1752604059001/15933ac1-884c-40e0-8cae-a06c7d9e4c0a_default/index.html?videoId=5510487311001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="300" height="150"></iframe>
	</div>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


	<script>
	var // player wrapper
	playerWrapper = document.getElementById("playerWrapper"),
  // get the wrapper's initial position
  playerWrapperBox = playerWrapper.getBoundingClientRect(),
  rightMove = Math.round(playerWrapperBox.right),
  bottomMove = Math.round(playerWrapperBox.bottom);
  console.log("playerWrapperBox", playerWrapperBox);
/**
         * moves the player to bottom right corner and fixes it there
         */
         function scrollListener() {
         	var t;
         	console.log("scroll event");
  // remove the scroll event listener
  window.removeEventListener("scroll", parkPlayer);
  // move the player after a half-second delay
  t = window.setTimeout(parkPlayer, 500);
}

function parkPlayer() {
	var currentX = 0,
	currentY = 0,
	newX,
	newY;

	while (currentY < bottomMove) {
		currentY++;
		if (currentX < rightMove) {
			currentX++;
		}
		newY = bottomMove - currentY;
		newX = rightMove - currentX;
		playerWrapper.setAttribute(
			"style",
			"position:fixed;bottom:" + newY + "px;right:" + newX + "px;z-index:10000;"
			);
	}

  // probably won't need this, but just in case
  while (currentX < rightMove) {
  	currentX++;
  	newX = rightMove - currentX;
  	playerWrapper.setAttribute(
  		"style",
  		"position:fixed;bottom:" + newY + "px;right:" + newX + "px;z-index:10000;"
  		);
  }
}

// add scroll event listener, but only listen once!
window.addEventListener("scroll", scrollListener);
</script>
</body>
</html>