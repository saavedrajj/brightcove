<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Discovery - Pv6 Playlist + Freewheel</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<link href="//cs1.brightcodes.net/jsaavedra/includes/css/styles.css" rel="stylesheet">
	<link href="//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.css" rel="stylesheet">	  	
	<style>
</style>
<script>
	function GetParameterByName(name) {
		name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
		var regexS = "[\\?&]" + name + "=([^&#]*)";
		var regex = new RegExp(regexS);
		var results = regex.exec(window.location.href);
		if (results == null)
			return "";
		else
			return decodeURIComponent(results[1].replace(/\+/g, " "));
	}
</script>  
</head>

<body>
	<div class="container">
		<h1>Discovery - Pv6 Playlist + Freewheel</h1>
		<div class="row">
			<div class="col">
				<div style="position: relative; display: block; max-width: 100%;">
					<div style="padding-top: 56.25%;">
						<video 
						id="myPlayerID"
						data-playlist-id="5460237314001" 				
						data-account="1378939881" 
						data-player="SJfZXOSef" 
						data-embed="default" 
						data-application-id 
						class="video-js" 
						controls muted
						style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;"></video>
						<script src="//players.brightcove.net/1378939881/SJfZXOSef_default/index.min.js"></script>
						<script src="//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.js"></script>

					</div>
				</div>
				<button type="button" class="btn btn-primary" onclick="previousVideo()">Previous</button>
				<button type="button" class="btn btn-primary" onclick="nextVideo()">Next </button>	
				<button type="button" class="btn btn-warning" onclick="clearConsole()">Clear</button>	
				<button type="button" class="btn btn-success" onclick="playVideo()">Play</button>						
				<ol class="vjs-playlist"></ol>
				<ul>
					<li><a href="https://support.brightcove.com/guide-playlist-api#previous" target="_blank">Playlist API</a></li>
				</ul>
			</div>
			<div class="col">

				<p class="console" id="message"></p>

			</div>
		</div>

		<div class="alert alert-warning" role="alert">These are examples to demonstrate certain features and functionality of Brightcove products and services and are provided for demonstration purposes only. These examples are not to be used in production and are not supported by Brightcove or the Brightcove support team.</div>
	</div>

	<script type="text/javascript">
		
		var myPlayer;
		videojs("myPlayerID").ready(function(){
			/* get a reference to the player */
			myPlayer= this;

			var fw = GetParameterByName('fw');
			if(fw==1) {
				myPlayer.FreeWheelPlugin(
				{
					"adTechOrder":["html5","flash"],
					"prerollTimeout":50000,
					"timeout":50000,
					"debug":true,
					"Html5":{
												"autoadvance": 0,
						"networkId":48747,
						"profile":"48747:DiscoveryIntl_BrightcoveJS_secure",
						"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.js",
						"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
						"siteSectionCustomId":"DISCOVERY_CHANNEL_FR_HOMEPAGE",
						"siteSectionFallbackId":6909578,
						"videoAssetFallbackId":"0",
						"videoAssetCustomId": "141753030"
					},
					"Flash": {
												"autoadvance": 0,
						"networkId":48747,
						"profile":"48747:DiscoveryIntl_Brightcove_secure",
						"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.swf",
						"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
						"swfurl":"https://players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf",
						"siteSectionCustomId":"DISCOVERY_CHANNEL_FR_HOMEPAGE",
						"siteSectionFallbackId":6909578,
						"videoAssetFallbackId":"0",
						"videoAssetCustomId": "141753030"
					}
				});
			}   
			if(fw==2)  {
				myPlayer.FreeWheelPlugin(
				{
					"adTechOrder":["html5","flash"],
					"Html5":{
						"sdkurl":"https://mssl.fwmrm.net/p/sanoma_sbs_live/AdManager.js",
						"serverUrl":"https://7b935.v.fwmrm.net/ad/g/1",
						"profile":"506166:sanoma_sbs_ovp_js_live",
						"networkId":"506166",
						"siteSectionCustomId":"sbs_sbs6_desktop",
						"videoAssetCustomId":"849fClqNfIa"
					},
					"Flash":{
						"sdkurl":"https://mssl.fwmrm.net/p/sanoma_sbs_live/AdManager.swf",
						"serverUrl":"https://7b935.v.fwmrm.net/ad/g/1",
						"profile":"506166:sanoma_sbs_flash_live",
						"networkId":"506166",
						"siteSectionCustomId":"sbs_sbs6_desktop",
						"videoAssetCustomId":"849fClqNfIa",
						"swfurl":"https://players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf"
					}
				});
			}
			/*
As I test I took the fw=1 profile but changed it to use a test siteSection which always delivers video ads. As you can see this config works fine.
*/
if(fw==3) {
	myPlayer.FreeWheelPlugin(
	{
		"adTechOrder":["html5","flash"],
		"prerollTimeout":50000,
		"timeout":50000,
		"debug":true,
		"Html5":{
			"networkId":48747,
			"profile":"48747:DiscoveryIntl_BrightcoveJS_secure",
			"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.js",
			"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
			"siteSectionCustomId":"TESTING_DMAX_GERMANY_2_SERIES_1_QUEEN_OF_THE_SOUTH",
			"siteSectionFallbackId":6942797,
			"videoAssetFallbackId":"0",
			"videoAssetCustomId": "141753030"
		},
		"Flash": {
			"networkId":48747,
			"profile":"48747:DiscoveryIntl_Brightcove_secure",
			"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.swf",
			"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
			"swfurl":"https://players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf",
			"siteSectionCustomId":"TESTING_DMAX_GERMANY_2_SERIES_1_QUEEN_OF_THE_SOUTH",
			"siteSectionFallbackId":6942797,
			"videoAssetFallbackId":"0",
			"videoAssetCustomId": "141753030"
		}
	});
}

if(fw==4) {
	myPlayer.FreeWheelPlugin(
				{
					"adTechOrder":["html5","flash"],
					"prerollTimeout":50000,
					"timeout":50000,
					"debug":true,
					"Html5":{
						"networkId":48747,
						"profile":"48747:DiscoveryIntl_BrightcoveJS_secure",
						"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.js",
						"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
						"siteSectionCustomId":"DISCOVERY_CHANNEL_FR_HOMEPAGE",
						"siteSectionFallbackId":6909578,
						"videoAssetFallbackId":"0",
						"videoAssetCustomId": "141753030"
					},
					"Flash": {
						"networkId":48747,
						"profile":"48747:DiscoveryIntl_Brightcove_secure",
						"sdkurl":"https://mssl.fwmrm.net/p/DI_live/AdManager.swf",
						"serverUrl":"https://be6b.v.fwmrm.net/ad/g/1",
						"swfurl":"https://players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf",
						"siteSectionCustomId":"DISCOVERY_CHANNEL_FR_HOMEPAGE",
						"siteSectionFallbackId":6909578,
						"videoAssetFallbackId":"0",
						"videoAssetCustomId": "141753030"
					}
				});
}

myPlayer.on(["fw-before-ad-request", "ads-request", "ads-load", "ads-ad-started", "ads-ad-ended", "ads-pause", "ads-play", "ads-first-quartile", "ads-midpoin", "ads-third-quartile", "ads-click", "ads-volumechange", "ads-pod-started", "ads-allpods-completed"],function(event){
	message.innerHTML += "BC FW event: " + event.type + "<br/>";      
});

myPlayer.on('ads-pod-ended',function(){
	message.innerHTML += "BC FW: ads-pod-ended<hr>";
});

/* contrib-ads events */

myPlayer.on(["readyforpreroll", "adcanplay", "nopreroll", "nopostroll", "adsready", "contentupdate", "contentresumed", "contentended", "adtimeupdate"],function(event){
	message.innerHTML += "contrib-ads: " + event.type + "<br/>";      
});

myPlayer.on(["adstart", "adtimeout"],function(event){
	message.innerHTML += "<hr>contrib-ads: " + event.type + "<br/>";      
});

myPlayer.on("adserror", function() { 
	message.innerHTML += "<hr><span style='color:red'>contrib-ads event: adserror</span><hr>";
});

/* Basic Player events */

myPlayer.on(["play", "playing", "pause", "volumechange"],function(event){
	message.innerHTML += "BC Player: " + event.type + "<br/>";      
});



});

function clearConsole(){
	message.innerHTML = "";      
}   

function previousVideo() {
	myPlayer.playlist.previous();
}

function nextVideo() {
	myPlayer.playlist.next();
}

function playVideo() {
	myPlayer.play();
}
</script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>	
</body>
</html>
