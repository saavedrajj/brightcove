<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Freewheel Events</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">   
  <link href="//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../includes/css/styles.css">      
</head>

<body>

  <div class="container">
    <h1>Freewheel Events</h1>
    <div style="position: relative; display: block; max-width: 100%;">
      <div style="padding-top: 56.25%;">
        <video 
        id="myPlayerID"
        data-video-id="5575865276001" 
        data-account="5458602755001" 
        data-player="BJxAdLhKDW" 
        data-embed="default" 
        data-application-id 
        class="video-js" 
        controls muted
        style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;"></video>
        <script src="//players.brightcove.net/5458602755001/BJxAdLhKDW_default/index.min.js"></script>
      </div>
    </div>

    <script src="//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.js"></script>

    <ul>
      <li><a href="https://support.brightcove.com/advertising-freewheel-plugin" target="_blank">Advertising with the FreeWheel Plugin</a></li>
      <li><a href="https://support.brightcove.com/ad-events-and-ad-objects" target="_blank">Ad Events and Ad Objects</a></li>
      <li><a href="https://github.com/videojs/videojs-contrib-ads/" target="_blank">videojs-contrib-ads</a></li>
      <li><a href="https://support.brightcove.com/guide-contrib-ads-migration" target="_blank">Guide: contrib-ads Migration</a></li>
    </ul>



    <button onclick="clearConsole()">Clear Console</button>
    <p class="console"><b><u>MESSAGE LOG:</u></b></p>
    <p class="console" id="message"></p>

  </div>




  <script type="text/javascript">
    function clearConsole(){
      message.innerHTML = "";      
    }       
    var myPlayer;

    videojs("myPlayerID").ready(function(){
     /* get a reference to the player */
     myPlayer= this;

     myPlayer.FreeWheelPlugin({
      "Flash": {
        "networkId": 90750,
        "profile": "3pqa_profile",
        /*"sdkurl": "http://adm.fwmrm.net/p/release/latest-AS3/adm/dbg/AdManager.swf",*/
        "sdkurl": "http://adm.fwmrm.net/p/c4_brightcove_live/AdManager.swf",
        "swfurl": "//players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf",           
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "as3_demo_site_section",
        "temporalSlots": [
        {
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        },
        {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        },
        {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }
        ],
        "videoAssetCustomId": "as3_demo_video_asset",
        "videoAssetDuration": 500
      },
      "Html5": {
        "keyValues": [
        {
          "feature": "simpleAds",
          "module": "DemoPlayer"
        },
        {
          "feature": "trackingURLs"
        }
        ],
        "networkId": 96749,
        "profile": "global-js",
        /*"sdkurl": "http://adm.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js",*/
        "sdkurl": "http://adm.fwmrm.net/p/c4_brightcove_live/AdManager.js",
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "DemoSiteGroup.01",
        "temporalSlots": [
        {
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        },
        {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        },
        {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }
        ],
        "videoAssetCustomId": "DemoVideoGroup.01",
        "videoAssetDuration": 500
      },
      "adTechOrder": [
      "html5",
      "flash"
      ],
      "debug": true,
      "prerollTimeout": 1000,
      "timeout": 5000
    });

     /* Freewheel events *** */
     myPlayer.on('fw-before-ad-request',function(){
      message.innerHTML += "***  fw-before-ad-request triggered<br>";
    });

     myPlayer.on('ads-request',function(){
      message.innerHTML += "*** ads-request triggered<br>";
    });

     myPlayer.on('ads-load',function(){
      message.innerHTML += "*** ads-load triggered<br>";
    });

     myPlayer.on('ads-ad-started',function(){
      message.innerHTML += "*** ads-ad-started triggered<br>";
    });

     myPlayer.on('ads-ad-ended',function(){
      message.innerHTML += "*** ads-ad-ended triggered<br>";
    });

     myPlayer.on('ads-pause',function(){
      message.innerHTML += "*** ads-pause triggered<br>";
    });

     myPlayer.on('ads-play',function(){
      message.innerHTML += "*** ads-play triggered<br>";
    });

     myPlayer.on('ads-first-quartile',function(){
      message.innerHTML += "*** ads-first-quartile triggered<br>";
    });

     myPlayer.on('ads-midpoint',function(){
      message.innerHTML += "*** ads-midpoint triggered<br>";
    });

     myPlayer.on('ads-third-quartile',function(){
      message.innerHTML += "*** ads-third-quartile triggered<br>";
    });

     myPlayer.on('ads-click',function(){
      message.innerHTML += "*** ads-click triggered<br>";
    });

     myPlayer.on('ads-volumechange',function(){
      message.innerHTML += "*** ads-volumechange triggered<br>";
    });

     myPlayer.on('ads-pod-started',function(){
      message.innerHTML += "*** ads-pod-started triggered<br>";
    });

     myPlayer.on('ads-pod-ended',function(){
      message.innerHTML += "*** ads-pod-ended triggered<hr>";
    });

     myPlayer.on('ads-allpods-completed',function(){
      message.innerHTML += "*** ads-allpods-completed triggered<br>";
    });


     /* contrib-ads events +++ */
     myPlayer.on("readyforpreroll", function() { 
      message.innerHTML += "+++ readyforpreroll triggered<br>";
    });

     myPlayer.on("adcanplay", function() { 
      message.innerHTML += "+++ adcanplay triggered<br>";
    });

     myPlayer.on("nopreroll", function() { 
      message.innerHTML += "+++ nopreroll triggered<br>";
    });

     myPlayer.on("nopostroll", function() { 
      message.innerHTML += "+++ nopostroll triggered<br>";
    });

     myPlayer.on("adstart", function() { 
      message.innerHTML += "<hr>+++ adstart triggered<br>";
    });

     myPlayer.on("adtimeout", function() { 
      message.innerHTML += "<hr>+++ adtimeout triggered<br>";
    });

     myPlayer.on("adserror", function() { 
      message.innerHTML += "+++ adserror triggered<br>";
    });

     myPlayer.on("adsready", function() { 
      message.innerHTML += "+++ adsready triggered<br>";
    });

     myPlayer.on("contentupdate", function() { 
      message.innerHTML += "+++ contentupdate triggered<br>";
    });

     myPlayer.on("contentresumed", function() { 
      message.innerHTML += "+++ contentresumed triggered<br>";
    });

     myPlayer.on("contentended", function() { 
      message.innerHTML += "+++ contentended triggered<br>";
    });

     myPlayer.on("adtimeupdate", function() { 
      message.innerHTML += "+++ adimeupdate triggered<br>";
    }); 


     /* Player events >>> */
     myPlayer.on("play", function() { 
      message.innerHTML += ">>> play triggered<br>";
    });

     myPlayer.on("playing", function() { 
      message.innerHTML += ">>> playing triggered<br>";
    });

     myPlayer.on("pause", function() { 
      message.innerHTML += ">>> pause triggered<br>";
    });


   });

 </script>

 <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script> 
</body>
</html>
